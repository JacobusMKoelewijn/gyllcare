{% extends "base.html" %}

{% block content %}

<div class="container">    
    <div class="row">
        <div class="col-12">
            <div class="app_body">

                <div class="menu">
                    <h1 style="float: left">Gyllcare</h1>
                    <ion-icon class="toggle", style="color:#ffffff; font-size: 270%; float: right; cursor: pointer;", name="menu-outline"></ion-icon>
                </div>

                <div id="menu_hidden">
                    <div class='button'><h2>Clean aquarium</h2></div>
                    <div class='button'><h2>Send log</h2></div>
                    <div class='button'><h2>Log out</h2></div>
                    <!-- <h2>App run time: {{ time_active }}</h2> -->

                    <!-- <h2 id="shut_down">Shutdown test button</h2> -->
                </div>

                <div class="main_switch_panel_buttons">
                    <h2 style="float: right; font-size: 90%">App run time</h2>
                    <label class='switch_layout'> 
                        <h2 id="CO2_unit" class='label_layout'>CO<sub>2</sub>&nbsp;is&nbsp;switched&nbsp;off</h2>
                        <input class='relay_switch' id="gpio_pin_14" name='CO2' type='checkbox'>
                        <span class ='slider'></span>
                    </label>
                    <h2 style="float: right; font-size: 90%">{{ time_active }}</h2>
                    <label class='switch_layout'>
                        <h2 id="O2_unit" class='label_layout'>O<sub>2</sub>&nbsp;is&nbsp;switched&nbsp;off</h2>
                        <input class='relay_switch' id="gpio_pin_15" name='O2' type='checkbox'>
                        <span class ='slider'></span>
                    </label>
                    <label class='switch_layout'>
                        <h2 id="main_light_unit" class='label_layout'>Light&nbsp;is&nbsp;switched&nbsp;off</h2>
                        <input class='relay_switch' id="gpio_pin_18" name='Light' type='checkbox'>
                        <span class ='slider'></span>
                    </label>
                    <label class='switch_layout'>
                        <h2 id="thermostate_unit" class='label_layout'>Thermostate&nbsp;is&nbsp;switched&nbsp;off</h2>
                        <input class='relay_switch' id="gpio_pin_23" name='Thermostate' type='checkbox'>
                        <span class ='slider'></span>
                    </label>
                </div>
            


                <div class="schedule_panel">
                    <form action="{{ url_for('gyllcare') }}" method="POST" novalidate>
                        <div class="form-row">
                            <div class="col-sm-4">
                                <label class="col-form-label col-form-label-sm">CO<sub>2</sub> schedule</label>
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_co2_on(class_="form-control form-control-sm", id="co2_start" ) }}
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_co2_off(class_="form-control form-control-sm", id="co2_stop" ) }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-sm-4">
                                <label class="col-form-label col-form-label-sm">O<sub>2</sub> schedule</label>
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_o2_on(class_="form-control form-control-sm", id="o2_start" ) }}
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_o2_off(class_="form-control form-control-sm", id="o2_stop" ) }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-sm-4">
                                <label class="col-form-label col-form-label-sm">Main light schedule</label>
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_light_on(class_="form-control form-control-sm", id="light_start" ) }}
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_light_off(class_="form-control form-control-sm", id="light_stop" ) }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-sm-4">
                                <label class="col-form-label col-form-label-sm">&#916;T schedule</label>
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_temp_on(class_="form-control form-control-sm", id="temp_start" ) }}
                            </div>
                            <div class="col-sm-4">
                                {{ schedule_form.unit_temp_off(class_="form-control form-control-sm", id="temp_stop" ) }}
                            </div>
                            <div style="margin: 0 auto; margin-top: 20px;">
                                <button type="submit" class="btn btn-primary btn-sm my-1">Submit schedule</button>
                            </div>
                        </div>
                        
                    </form>
                    <div class="schedule_panel_output">
                        <h3 style="color: #0d6efd;">{{ schedule_set }}</h3>
                    </div>
                </div>
                <div class="graph_panel">
                    <div class="graph_info">
                        <h3>Current temperature: <span style="color: #ffffff">{{ temperature }}</span> &#8451;</h3>
                        <!-- <h3>Change in temperature since <span style="color: #ffffff">{{ time_span + 1}}</span> hours:</h3> -->
                    </div>
                    <img class="graph" src="{{ url_for('static', filename='Resources/img/plot.svg') }}">
                </div>
                <!-- <button class="btn btn-primary btn-sm my-1 btn-block log_file">Email log files</button> -->
                <!-- <a href="{{ url_for('logout') }}"><button class="btn btn-primary btn-sm my-1 btn-block">Logout</button></a> -->
              </div>            
          </div>
    </div>
</div>

{% endblock %}